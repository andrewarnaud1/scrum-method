import sys

try:
    import chardet
except ImportError:
<<<<<<< HEAD
    import warnings

    import charset_normalizer as chardet

    warnings.filterwarnings("ignore", "Trying to detect", module="charset_normalizer")
=======
    import charset_normalizer as chardet
    import warnings

    warnings.filterwarnings('ignore', 'Trying to detect', module='charset_normalizer')
>>>>>>> c03913b4420b10b4657dfb6a856eb245e1ebfb58

# This code exists for backwards compatibility reasons.
# I don't like it either. Just look the other way. :)

<<<<<<< HEAD
for package in ("urllib3", "idna"):
=======
for package in ('urllib3', 'idna'):
>>>>>>> c03913b4420b10b4657dfb6a856eb245e1ebfb58
    locals()[package] = __import__(package)
    # This traversal is apparently necessary such that the identities are
    # preserved (requests.packages.urllib3.* is urllib3.*)
    for mod in list(sys.modules):
<<<<<<< HEAD
        if mod == package or mod.startswith(f"{package}."):
            sys.modules[f"requests.packages.{mod}"] = sys.modules[mod]

target = chardet.__name__
for mod in list(sys.modules):
    if mod == target or mod.startswith(f"{target}."):
        target = target.replace(target, "chardet")
        sys.modules[f"requests.packages.{target}"] = sys.modules[mod]
=======
        if mod == package or mod.startswith(package + '.'):
            sys.modules['requests.packages.' + mod] = sys.modules[mod]

target = chardet.__name__
for mod in list(sys.modules):
    if mod == target or mod.startswith(target + '.'):
        sys.modules['requests.packages.' + target.replace(target, 'chardet')] = sys.modules[mod]
>>>>>>> c03913b4420b10b4657dfb6a856eb245e1ebfb58
# Kinda cool, though, right?
