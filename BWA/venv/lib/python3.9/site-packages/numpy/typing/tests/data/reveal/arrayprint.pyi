<<<<<<< HEAD
import sys
import contextlib
from collections.abc import Callable
from typing import Any

import numpy as np
from numpy.core.arrayprint import _FormatOptions

if sys.version_info >= (3, 11):
    from typing import assert_type
else:
    from typing_extensions import assert_type
=======
from typing import Any, Callable
import numpy as np
>>>>>>> c03913b4420b10b4657dfb6a856eb245e1ebfb58

AR: np.ndarray[Any, Any]
func_float: Callable[[np.floating[Any]], str]
func_int: Callable[[np.integer[Any]], str]

<<<<<<< HEAD
assert_type(np.get_printoptions(), _FormatOptions)
assert_type(
    np.array2string(AR, formatter={'float_kind': func_float, 'int_kind': func_int}),
    str,
)
assert_type(np.format_float_scientific(1.0), str)
assert_type(np.format_float_positional(1), str)
assert_type(np.array_repr(AR), str)
assert_type(np.array_str(AR), str)

assert_type(np.printoptions(), contextlib._GeneratorContextManager[_FormatOptions])
with np.printoptions() as dct:
    assert_type(dct, _FormatOptions)
=======
reveal_type(np.get_printoptions())  # E: TypedDict
reveal_type(np.array2string(  # E: str
    AR, formatter={'float_kind': func_float, 'int_kind': func_int}
))
reveal_type(np.format_float_scientific(1.0))  # E: str
reveal_type(np.format_float_positional(1))  # E: str
reveal_type(np.array_repr(AR))  # E: str
reveal_type(np.array_str(AR))  # E: str

reveal_type(np.printoptions())  # E: contextlib._GeneratorContextManager
with np.printoptions() as dct:
    reveal_type(dct)  # E: TypedDict
>>>>>>> c03913b4420b10b4657dfb6a856eb245e1ebfb58
